(function(i,n,d,u,f){"use strict";var r;const p=n.findByStoreName("ThemeStore"),{meta:{resolveSemanticColor:h}}=n.findByProps("colors","meta"),c=((r=n.findByProps("ActionSheet"))===null||r===void 0?void 0:r.ActionSheet)??n.find(function(e){var t;return((t=e.render)===null||t===void 0?void 0:t.name)==="ActionSheet"}),y=n.findByProps("openLazy","hideActionSheet");function m(e,t){c?y?.openLazy(new Promise(function(o){return o({default:e})}),"ActionSheet",t):f.showToast("You cannot open ActionSheets on this version! Upgrade to 163+")}const{BottomSheetScrollView:v}=n.findByProps("BottomSheetScrollView");let l=function(e){return e==="playlist"||e==="album"};const S=n.findByName("WebView")||n.findByProps("WebView").default.render;let B=function(e,t){const o=h(p.theme,u.semanticColors.MODAL_BACKGROUND);return React.createElement(S,{source:{uri:e},style:{marginTop:20,backgroundColor:o,height:l(t)?352:152,width:"100%"},nestedScrollEnabled:l(t)})};function b(e){let{"0":t,"1":o}=e;return React.createElement(c,null,React.createElement(v,{contentContainerStyle:{marginBottom:100}},B(t.replace("https://open.spotify.com","https://open.spotify.com/embed"),o)))}const A=n.findByProps("handleClick");function w(){return d.before("handleClick",A,function(e){let[t]=e;const{href:o}=t;if(!o.startsWith("https://open.spotify.com/"))return;let s=o.split("/")[3];["track","playlist","episode","album"].includes(s)&&(t.href=void 0,m(b,[o,s]))})}let a=[];var P={onLoad:function(){a.push(w())},onUnload:function(){for(const e of a)e()}};return i.default=P,Object.defineProperty(i,"__esModule",{value:!0}),i})({},vendetta.metro,vendetta.patcher,vendetta.ui,vendetta.ui.toasts);
