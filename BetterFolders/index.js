(function(u,s,d,t,c,p,I){"use strict";const{View:h,Image:E}=I.General,{getGuildFolders:_}=d.findByStoreName("UserSettingsProtoStore"),{isFolderExpanded:g}=d.findByStoreName("ExpandedGuildFolderStore");function G(){_().filter(function(e){return e.folderId&&!g(e.folderId)}).forEach(function(e){let{folderId:n}=e;t.FluxDispatcher.dispatch({type:"TOGGLE_GUILD_FOLDER_EXPAND",folderId:n}),t.FluxDispatcher.dispatch({type:"TOGGLE_GUILD_FOLDER_EXPAND",folderId:n})})}function F(){let e=p.after("GuildContainer",d.findByPropsAll("GuildContainer").at(-1),function(n,f){let[r]=n,i=r?.children?.type;if(!i?.type){if(r.expanded)return;let l=r?.children?.props;if(!l?.children?.[1])return;let o=l?.children?.[0]?.props?.style?.[1]?.backgroundColor;if(!o)return;l.children[1]=t.React.createElement(h,{style:{overflow:"hidden",borderRadius:16,justifyContent:"center",alignItems:"center",height:48,width:48}},t.React.createElement(E,{source:c.getAssetIDByName("img_guild_folder"),style:{tintColor:o}}));return}let O=p.after("type",i,function(l,o){let[y]=l;O(),!r.expanded&&(o.props.children[1]=t.React.createElement(h,{style:{overflow:"hidden",borderRadius:16,justifyContent:"center",alignItems:"center",height:48,width:48}},t.React.createElement(E,{source:c.getAssetIDByName("img_guild_folder"),style:y.folderColor?{tintColor:`#${y.folderColor.toString(16)}`}:{}})))})});return G(),function(){G(),e()}}const{getGuildFolders:L}=d.findByStoreName("UserSettingsProtoStore"),{isFolderExpanded:D}=d.findByStoreName("ExpandedGuildFolderStore");function C(){let e=function(n){let{folderId:f}=n;D(f)&&L().filter(function(r){return r.folderId&&D(r.folderId)}).forEach(function(r){let{folderId:i}=r;i!==f&&t.FluxDispatcher.dispatch({type:"TOGGLE_GUILD_FOLDER_EXPAND",folderId:i})})};return t.FluxDispatcher.subscribe("TOGGLE_GUILD_FOLDER_EXPAND",e),function(){return t.FluxDispatcher.unsubscribe("TOGGLE_GUILD_FOLDER_EXPAND",e)}}let a=[];var N={onLoad:function(){s.storage.hideIcons??=!1,s.storage.autoCollapse??=!1,a.push(F()),a.push(C())},onUnload:function(){for(const e of a)e()}};return u.default=N,Object.defineProperty(u,"__esModule",{value:!0}),u})({},vendetta.plugin,vendetta.metro,vendetta.metro.common,vendetta.ui.assets,vendetta.patcher,vendetta.ui.components);
