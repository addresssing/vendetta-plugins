(function(i,n,a,f){"use strict";const{NativeModules:o}=a.ReactNative,u=n.findByStoreName("SelectedChannelStore"),d=function(e){return[...Array(e)].map(function(){return Math.floor(Math.random()*16).toString(16)}).join("")},s=o.DCDFileManager??o.RTNFileManager;function h(e){n.findByProps("openImagePicker").openImagePicker({}).then(function(t){if(!t)return;let c=d(24)+".png";s.writeFile("cache",c,t.split(",")[1],"base64").then(function(l){a.ReactNative.Image.getSize("file://"+l,function(m,v){n.findByProps("handleAttachFile").handleSelectKeyboardItem(e,{node:{image:{playableDuration:0,height:v,filename:c,width:m,mimeType:"image/png",uri:"file://"+l},type:"ALAssetTypePhoto"}},!1,{target:0},void 0)})})})}const p=n.findByDisplayName("Pressable",!1);function g(){return f.before("render",p.default.type,function(e){if(!e||!e[0])return;const[t]=e;t.accessibilityLabel=="Files"&&(t.onPress=function(){h(u.getChannelId())})})}let r=[];var y={onLoad:function(){r.push(g())},onUnload:function(){for(const e of r)e()}};return i.default=y,Object.defineProperty(i,"__esModule",{value:!0}),i})({},vendetta.metro,vendetta.metro.common,vendetta.patcher);
