(function(l,r,u,n,m,S,d,v,c){"use strict";const{Text:R}=m.General,E=n.findByStoreName("ThemeStore"),{meta:{resolveSemanticColor:N}}=n.findByProps("colors","meta"),b=n.findByStoreName("UserStore"),T=n.findByStoreName("RelationshipStore"),P=n.findByStoreName("GuildMemberStore"),p=n.findByProps("TYPING_WRAPPER_HEIGHT");function _(){return u.after("default",p,function(o,y){let[{channel:g}]=o;if(!y)return;const C=y.props?.children,I=N(E.theme,S.semanticColors.HEADER_SECONDARY),D=u.after("type",C,function(L,A){r.React.useEffect(function(){return function(){D()}},[]);const a=A?.props?.children?.[0]?.props?.children?.[1]?.props;if(!a||!a.children||a.children==="Several people are typing...")return;const e=p.useTypingUserIds(g.id).map(function(t){const i=P.getMember(g.guild_id,t),h=b.getUser(t),F=i?.nick||T.getNickname(t)||h.globalName||h.username,G=i?.colorString||I;return{displayName:F,displayColor:G}});function s(t){return r.React.createElement(R,{style:{color:t.displayColor,fontFamily:r.constants.Fonts.DISPLAY_BOLD}},t.displayName)}!e||e.length<1||(a.children=e.length===1?[s(e[0])," is typing..."]:[...e.slice(0,e.length-1).flatMap(function(t,i){return[s(t),i<e.length-2?", ":" and "]}),s(e[e.length-1])," are typing..."])})})}function w(){return v.useProxy(c.storage),React.createElement(r.ReactNative.ScrollView,{style:{flex:1}},React.createElement(FormSection,{title:"Where to show the top role color?",titleStyleType:"no_border"},React.createElement(d.FormSwitchRow,{label:"Show in typing",subLabel:"Display the top role color in the typing bar.",leading:React.createElement(d.FormIcon,{source:Icons.Typing}),value:c.storage.showTyping,onValueChange:function(o){return c.storage.showTyping=o}})))}let f=[];var B={onLoad:function(){f.push(_())},onUnload:function(){for(const o of f)o()},settings:w};return l.default=B,Object.defineProperty(l,"__esModule",{value:!0}),l})({},vendetta.metro.common,vendetta.patcher,vendetta.metro,vendetta.ui.components,vendetta.ui,vendetta.ui.components.Forms,vendetta.storage,vendetta.plugin);
