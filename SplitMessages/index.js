(function(s,S,r,t){"use strict";const A=S.findByProps("sendMessage","receiveMessage"),c=S.findByStoreName("SelectedChannelStore"),i=S.findByStoreName("UserStore");function u(E){return r.before("sendMessage",A,function(o){let M=o[1].content,n=i.getCurrentUser().premiumType==2?E.MAX_MESSAGE_LENGTH_PREMIUM:E.MAX_MESSAGE_LENGTH;if(!(M.length<=n)){for(var a=[],_=0,f=M.slice(n).length;_<f;_+=n)a.push(M.slice(n).substring(_,_+n));a.forEach(function(l,N){setTimeout(function(){A.sendMessage(c.getChannelId(),{content:l})},250*(N+1))}),o[1].content=M.substring(0,n)}})}let G,e={};var d={onLoad:function(){e.MAX_MESSAGE_LENGTH=t.constants.MAX_MESSAGE_LENGTH,e.MAX_MESSAGE_LENGTH_PREMIUM=t.constants.MAX_MESSAGE_LENGTH_PREMIUM,t.constants.MAX_MESSAGE_LENGTH=1e4,t.constants.MAX_MESSAGE_LENGTH_PREMIUM=1e4,G=[u(e)]},onUnload:function(){console.log(e),e.MAX_MESSAGE_LENGTH&&(t.constants.MAX_MESSAGE_LENGTH=e.MAX_MESSAGE_LENGTH),e.MAX_MESSAGE_LENGTH_PREMIUM&&(t.constants.MAX_MESSAGE_LENGTH_PREMIUM=e.MAX_MESSAGE_LENGTH_PREMIUM);for(const E of G)E()}};return s.default=d,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.patcher,vendetta.metro.common);
