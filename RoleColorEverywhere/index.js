(function(l,r,s,n,h,m,u){"use strict";const{Text:S}=h.General,R=n.findByStoreName("ThemeStore"),{meta:{resolveSemanticColor:v}}=n.findByProps("colors","meta"),E=n.findByStoreName("UserStore"),N=n.findByStoreName("RelationshipStore"),b=n.findByStoreName("GuildMemberStore"),d=n.findByProps("TYPING_WRAPPER_HEIGHT");function T(){return s.after("default",d,function(o,f){let[{channel:y}]=o;if(!f)return;const w=f.props?.children,B=v(R.theme,m.semanticColors.HEADER_SECONDARY),C=s.after("type",w,function(F,I){r.React.useEffect(function(){return function(){C()}},[]);const i=I?.props?.children?.[0]?.props?.children?.[1]?.props;if(!i||!i.children||i.children==="Several people are typing...")return;const e=d.useTypingUserIds(y.id).map(function(t){const a=b.getMember(y.guild_id,t),g=E.getUser(t),D=a?.nick||N.getNickname(t)||g.globalName||g.username,A=a?.colorString||B;return{displayName:D,displayColor:A}});function c(t){return r.React.createElement(S,{style:{color:t.displayColor,fontFamily:r.constants.Fonts.DISPLAY_BOLD}},t.displayName)}!e||e.length<1||(i.children=e.length===1?[c(e[0])," is typing..."]:[...e.slice(0,e.length-1).flatMap(function(t,a){return[c(t),a<e.length-2?", ":" and "]}),c(e[e.length-1])," are typing..."])})})}function P(){return useProxy(storage),React.createElement(r.ReactNative.ScrollView,{style:{flex:1}},React.createElement(FormSection,{title:"Where to show the top role color?",titleStyleType:"no_border"},React.createElement(u.FormSwitchRow,{label:"Show in typing",subLabel:"Display the top role color in the typing bar.",leading:React.createElement(u.FormIcon,{source:Icons.Typing}),value:storage.showTyping,onValueChange:function(o){return storage.showTyping=o}})))}let p=[];var _={onLoad:function(){p.push(T())},onUnload:function(){for(const o of p)o()},settings:P};return l.default=_,Object.defineProperty(l,"__esModule",{value:!0}),l})({},vendetta.metro.common,vendetta.patcher,vendetta.metro,vendetta.ui.components,vendetta.ui,vendetta.ui.components.Forms);
