(function(d,n,f,r,o,h){"use strict";const{FormTitle:v}=h.Forms,{getPrivateChannelRowHeight:y}=f.findByProps("getPrivateChannelRowHeightWithoutPadding");function E(){let e=[],s=!1;return e.push(o.after("default",f.findByName("ConnectedPrivateChannels",!1),function(D,M){if(s)return;s=!0;let t=[];M.props.privateChannelIds.forEach(function(P,u){n.storage.pinnedDMs.includes(P)&&t.push(u)}),e.push(o.after("render",M.type.prototype,function(P,u){if(!u.props?.children?.props?.children)return;const a=u.props.children.props.children;a[2].props.sections=[1,a[2].props.sections[0]-t.length],o.instead("renderItem",a[2].props,function(i,c){const[l,p]=i;return l===0?r.React.createElement(h.ErrorBoundary,null,r.React.createElement(r.React.Fragment,null,r.React.createElement(v,{title:"Pinned DMs"}),t.map(function(w){return c(0,w)}),r.React.createElement(v,{title:"Direct Messages"}))):t.includes(p)?null:c(...i)}),o.instead("itemSize",a[2].props,function(i,c){const[l,p]=i;return l===0?(32+13)*2+y(1)*t.length:t.includes(p)?0:c(...i)})}))})),function(){return e.forEach(function(D){return D()})}}const R={pin:function(e){n.storage.pinnedDMs.push(e)},unpin:function(e){n.storage.pinnedDMs=n.storage.pinnedDMs.filter(function(s){return s!=e})},getPinnedDMs:function(){return n.storage.pinnedDMs}};let g=[];var m={onLoad:function(){n.storage.pinnedDMs??=[],g.push(E()),Object.defineProperty(window,"PinDMsDevApi",{configurable:!0,value:R})},onUnload:function(){for(const e of g)e(),delete window.PinDMsDevApi}};return d.default=m,Object.defineProperty(d,"__esModule",{value:!0}),d})({},vendetta.plugin,vendetta.metro,vendetta.metro.common,vendetta.patcher,vendetta.ui.components);
